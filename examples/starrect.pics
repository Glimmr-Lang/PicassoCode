
IO :: import std.io
Virtual :: import std.virtual
Render :: import piccode.render
Pen :: import piccode.pen

drawStar :: (ctx, padding=0) = 
  ctx
   |> Pen::drawLine(50+padding, 50+padding, 150-padding, 150-padding)
   |> Pen::drawLine(150-padding, 50+padding, 50+padding, 150-padding)
   |> Pen::drawLine(50+padding, 100, 150-padding, 100)
   |> Pen::drawLine(100, 50+padding, 100, 150-padding)

drawRect :: (ctx, x, y, w, h) = 
  ctx
   |> Pen::drawLine(x, y, x + w, y)
   |> Pen::drawLine(x, y + h, x + w, y + h)
   |> Pen::drawLine(x, y, x, y + w)
   |> Pen::drawLine(x + w, y, x + w, y + h)

drawDepth :: (ctx) = 
  ctx
   |> Pen::drawLine(150, 50, 200, 70)
   |> Pen::drawLine(150, 150, 200, 170)
   |> Pen::drawLine(50, 150, 100, 170)

drawBackLines :: (ctx) = 
  ctx
   |> Pen::drawLine(100, 170, 200, 170)
   |> Pen::drawLine(200, 70, 200, 170)

main :: () = 
  let 
    ctx := Render::getContext()
  in 
    ctx 
     |> drawRect(50, 50, 100, 100)
     |> drawDepth
	|> drawBackLines
	|> drawStar(10)



     
